# === 基本运行配置 ===
# EdgeX 交易页面地址（根据目标交易对调整）
EDGEX_URL=https://pro.edgex.exchange/trade/ETHUSD

# AI 决策服务地址（保持与 server.js 中一致）
AI_ENDPOINT=http://154.17.228.72:12345/ai-decision

# 机器人使用的交易对代码（会传给 AI）
BOT_TICKER=ETHUSD

# 单次下单数量（合约张数或币数量，视品种而定）
BOT_QUANTITY=0.02

# 限价单偏移比例，例如 0.001 表示上下浮动 0.1%
BOT_PRICE_OFFSET=0.001

# 采集阶段轮询间隔（秒），历史数据未满时使用
BOT_COLLECT_INTERVAL_SEC=5

# 正常交易阶段轮询间隔（秒），历史数据已满足时使用
BOT_TRADING_INTERVAL_SEC=90

# AI 判定所需的价格历史长度
BOT_PRICE_HISTORY_LENGTH=20

# 交易阶段随机间隔（分钟），将在此范围内随机取值
BOT_MIN_INTERVAL_MIN=1
BOT_MAX_INTERVAL_MIN=4

# === 风险管理配置 ===
# true 启用风险控制，false 则完全关闭
BOT_RISK_ENABLED=true

# 单笔浮动亏损超过此百分比（%）触发止损
BOT_RISK_STOP_LOSS_PCT=0.6

# 单笔浮动盈利超过此百分比（%）触发止盈
BOT_RISK_TAKE_PROFIT_PCT=1

# 持仓最长时间（分钟），超时触发强制平仓
BOT_RISK_MAX_HOLD_MINUTES=30

# 未成交委托的最长等待时间（秒），超时自动撤单
BOT_RISK_MAX_ORDER_WAIT_SEC=60

# AI 信号确认次数，>=2 表示连续多次同方向信号才开仓
BOT_RISK_SIGNAL_CONFIRMATION=1

# 当日最大亏损（美元或计价单位），低于此值将暂停交易
BOT_RISK_DAILY_LOSS_LIMIT=-30

# 最大连续亏损次数，达到则暂停
BOT_RISK_MAX_CONSECUTIVE_LOSSES=3

# 触发暂停后的冷静期（分钟）
BOT_RISK_PAUSE_MINUTES=60

# === Playwright 浏览器配置 ===
# 是否启用无头模式，调试时推荐设为 false 便于观察
PLAYWRIGHT_HEADLESS=false

# 浏览器通道：使用系统 Chrome 以复用扩展和登录态
PLAYWRIGHT_BROWSER=chrome

# 指向已复制并登陆好的 Chrome 用户目录，确保钱包扩展已解锁
PLAYWRIGHT_USER_DATA_DIR=/Users/sunjiaqiang/Library/Application Support/Google/Chrome/EdgeXBot

# 可选：额外浏览器参数（按需填写，例如 --start-maximized），多个参数用空格隔开
# PLAYWRIGHT_BROWSER_ARGS=--start-maximized

# 可选：保留 false 可禁用扩展加载，默认为 true（复用用户目录时保持启用）
# PLAYWRIGHT_ALLOW_EXTENSIONS=true
